name: Continuous Integration
on: pull_request

jobs:
  tests:
    name: Tests
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v1
      - uses: actions/setup-python@master 
        with:
            python-version: '3.7'
      - name: Requirements
        run: pip install -r requirements.txt
      # - name: Set python path
      # run: export PYTHONPATH="$PWD/sample"
      - name: Foo
        env:
            CHRIS_CORDERO: $GITHUB_WORKSPACE
            CFOO: blahasdsad
            D_CORDERO: "$GITHUB_WORKSPACE"
            D_CORDERO2: "${GITHUB_WORKSPACE}"
            # D_CORDERO3: "${{ GITHUB_WORKSPACE }}"
            D_CORDERO4: "${{ echo GITHUB_WORKSPACE }}"
            D_CORDERO5: "${{ $GITHUB_WORKSPACE }}"
            PYTHONPATH: "./sample"
        run: export
      - name: Run tests
        run: scripts/test.sh
